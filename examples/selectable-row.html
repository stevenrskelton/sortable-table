<!DOCTYPE html>
<html>
  <head>
	<title>Sortable Table using Polymer Web Components</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<script src="platform-0.2.0.js"></script>
	<script src="polymer-0.2.0.js"></script>
	<link rel="import" href="../src/sortable-table.html">
  </head>
  <body unresolved>

	<h2>Interactive Row Selection</h2>
	Rows should be selectable through HTML attributes as well as by user interaction.
	Row selection styles should be able to be dynamically set.

	<p />

	<template id="example" bind>
	  <sortable-table data="{{data}}" selected="{{selected}}" enableRowSelection selectedRowStyle="{{selectedRowStyle}}"></sortable-table>
	</template>

	<p/>

	<template id="selectedRow" bind>
	  <table>
		<tr>
		  <td>id: {{selected.id}}</td>
		  <td>fruit: {{selected.fruit}}</td>
		  <td>alice: {{selected.alice}}</td>
		  <td>bill: {{selected.bill}}</td>
		  <td>casey: {{selected.casey}}</td>
		</tr>
	  </table>
	</template>

	<p/>

	Fruit: <input type="text" id="selectedFruit" onfocus="this.select();"><input type="button" value="select by id or name" onclick="selectFruit();">

	<input type="button" onclick="changeSelectionStyle(this)" style="background-color:rgba(200,96,0,0.2);font-weight:bold;" value="Selected Style">
	<input type="button" onclick="changeSelectionStyle(this)" style="background-color:rgba(0,96,200,0.2);font-weight:bold;" value="Selected Style">

	<p/>

	<h2>Non-Interactive</h2>

	<template id="example2" bind>
	  <sortable-table data="{{data}}" selected="{{selected}}" selectedRowStyle="font-style:italic;font-size:larger;font-weight:bold"></sortable-table>
	</template>

	<script>

	  var data = [
		{id: 0, fruit: 'apple', alice: 4, bill: 10, casey: 2 },
		{id: 1, fruit: 'banana', alice: 0, bill: 4, casey: 0 },
		{id: 2, fruit: 'grape', alice: 2, bill: 3, casey: 5 },
		{id: 3, fruit: 'pear', alice: 4, bill: 2, casey: 8 },
		{id: 4, fruit: 'strawberry', alice: 0, bill: 14, casey: 0 }
	  ];

	  var model = {
		data: data,
		selected: data[1],
		selectedRowStyle: 'background-color:rgba(200,96,0,0.2);font-weight:bold;'
	  };

	  window.addEventListener('polymer-ready', function(){
		document.getElementById('example').model = model;
		document.getElementById('example2').model = model;
		document.getElementById('selectedRow').model = model;
	  });

	  function selectFruit(){
		var selected = null;
		var selectedFruit = document.getElementById('selectedFruit').value;
		if(selectedFruit){
		  for(var i=0;i<data.length;i++){
			if(data[i].fruit==selectedFruit || data[i].id==selectedFruit){
			  selected = data[i];
			  break;
			}
		  }
		}
		model.selected = selected;
	  }

	  function changeSelectionStyle(b){
		model.selectedRowStyle = b.getAttribute('style');
	  }
	</script>

  </body>
</html>